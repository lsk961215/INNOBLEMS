<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="user">

	<resultMap id="userMap" type="com.spring.innoblems.dto.UserDTO">
	  <result column="USR_SEQ" property="usrSeq"/>
	  <result column="USR_ID" property="usrId"/>
	  <result column="USR_PW" property="usrPw"/>
	  <result column="USR_NM" property="usrNm"/>
	  <result column="USR_BDT" property="usrBDT"/>
	  <result column="GD_CD" property="gdCD"/>
	  <result column="USR_IN_DT" property="usrINDT"/>
	  <result column="ST_CD" property="stCD"/>
	  <result column="RA_CD" property="raCD"/>
	  <result column="GR_CD" property="grCD"/>
	  <result column="DV_CD" property="dvCD"/>
	  <result column="USR_IMG" property="usrImg"/>
	  <result column="USR_PN" property="usrPn"/>
	  <result column="USR_EM" property="usrEm"/>
	  <result column="USR_AD" property="usrAd"/>
	</resultMap>
	
	<select id="getUserList" parameterType="com.spring.innoblems.dto.UserDTO" resultMap="userMap">
		SELECT 
		   	*
		FROM
		    USER_INFO
		WHERE 1=1
			<if test="usrSeq != 0">
				AND USR_SEQ like '%' || #{usrSeq} || '%'
			</if>
			<if test="usrNm != '' and usrNm != null">
				AND USR_NM like '%' || #{usrNm} || '%'
			</if>
			<if test="grCD != 0">
				AND GR_CD like '%' || #{grCD} || '%'
			</if>
			<if test="stCD != 0">
				AND ST_CD like '%' || #{stCD} || '%'
			</if>
	</select>
	
</mapper>